---
title: "QPS"
date: 2019-05-21T17:31:25+08:00
draft: false
---

一、原理

峰值时间：每天80%的访问集中在20%的时间里，这20%时间叫做峰值时间

QPS：每秒查询率，即峰值时间每秒请求数

公式：`(总PV数 * 80%) / (每天秒数 * 20%) = QPS`

机器：`QPS / 单台机器的QPS = 需要的机器数`

二、案例：

1. `300w PV`的请求需要多少QPS？

`(3000000 * 0.8) / (86400 * 0.2) = 139(QPS)`

2. 如果一台机器的QPS是58，需要几台机器来支持？

`139 / 58 = 3台`
